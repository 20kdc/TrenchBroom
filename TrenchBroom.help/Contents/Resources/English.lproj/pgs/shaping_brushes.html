<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">

<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>TrenchBroom Help - Shaping Brushes</title>
	<link rel="StyleSheet" href="../sty/style.css" type="text/css" media="screen" />
	<meta name="author" content="Kristian Duske">
</head>
<body>
	<div id="container">
		<h2>Shaping Brushes</h2>
		The shape of a brush can be changed using two different tools: Face dragging and clipping. While face dragging can only change the location of individual faces, clipping can truly change the shape of a brush by adding new faces and deleting existing faces of the brush. The following section will cover face dragging while clipping is explained in the subsequent section.
		
		<a name="face_dragging"></a><h3>Face Dragging</h3>
		<img src="../../shrd/face_dragging_frontface.png" width="180" height="180" alt="Dragging a Front Face" class="inline">
		<p>Face dragging is actually a translation of a face along its normal. This means that you cannot move faces around freely, but are restricted to the face's norm as its single axis of movement. There are two options to initiate a face drag. The first is to select a face and then <b>click and drag</b> it with the <b>left mouse button</b>. Once you move your mouse over a selected face, you will notice that the cursor changes into a small yellow arrow. This arrow indicates the direction in which you can drag the face. If you select multiple faces and start dragging one of them, all faces will be moved along their normal. This way, you can change a brush's size in multiple dimensions at once.</p>
		<br clear="all">
		<p>The second way to drag a face is to select the brush which the face belongs to and then <b>click and drag</b> on a face with the <b>left mouse button</b> while holding the <b>command key (&#x2318;)</b>. Note that if you have multiple brushes selected and you drag a face, every face of any selected brush that lies in the same plane as the dragged face will be moved, too. This allows you to quickly change the sizes of multiple brushes at once.</p>
		
		<img src="../../shrd/face_dragging_backface.png" width="180" height="180" alt="Dragging a Back Face" class="inline">
		<p>You can also drag faces which are behind the brush, but this is only possible if you use the second option described above. If you hold the <b>command key (&#x2318;)</b> and move your mouse outside of a selected brush, you will notice that the cursor again changes to the yellow arrow if you move the cursor close to an outer edge of the brush. Since any edge belongs to exactly two faces, an outer edge belongs to one face that faces the camera and one face that faces away from the camera. The latter face is the one which you can drag if you start your drag just outside of an outer edge. Note that you can only drag faces which have at least one edge visible. If you want to drag faces which are completely on the back of the brush, you need to reposition the camera.</p>
		
		<br clear="all">
		<a name="using_the_clipping_tool"></a><h3>Using the Clipping Tool</h3>
		<p>The clipping tool is the most important tool to change the shapes of brushes because it is the only tool that can actually add and remove faces from a brush. It is also the only tool in TrenchBroom that is not activated with a modifier key such as the shift key. To toggle the clip tool, you need to press the <b>C key</b> while brushes are selected. Afterwards, you will notice a green dot under your mouse cursor if you move the mouse over a selected brushes (see also the first of the following screenshots).</p>
		<p>The general principle of any clip tool is that it cuts one or several brushes by adding a face to them. Remember that brushes are made of faces, and each face defines a plane which is actually the boundary of a half space. The brushes volume is then the intersection of all the half spaces defined by its faces. If you add a new face to a brush, there are three possible outcomes:</p>
		<ul>
			<li>The halfspace defined by the new plane does not intersect the brushes volume at all, and as a result the brush becomes invalid and is deleted.</li>
			<li>The brushes volume is entirely contained in the halfspace defined by the new face, so nothing actually changes.</li>
			<li>The intersection of the brushes volume and the half space defined by the new face is smaller than the brushes volume. The result is that the new face is added to the brush and all other faces which intersect with the new face are cut off. Additionally, some faces may be removed from the brush. This is what the clipping tool is designed to do.</li>
		</ul>
		<p>The clipping tool allows you to define a plane (called the <b>clipping plane</b>) by placing at least two points in space. This plane is then added to the selected brushes as a new face, and some brushes are deleted, some are changed and some retain their shape as described above. Depending on the orientation of the clipping plane, different parts of the selected brushes are retained and deleted. The following screenshots show the three clipping modes of the clipping tool:</p>
		<div class="images">
			<img src="../../shrd/clipping_mode_1.png" width="180" height="180" alt="Clipping Mode 1">
			<img src="../../shrd/clipping_mode_2.png" width="180" height="180" alt="Clipping Mode 2">
			<img src="../../shrd/clipping_mode_3.png" width="180" height="180" alt="Clipping Mode 3">
			<div class="imagecaption">The modes of the clipping tool.</div>
		</div>

		<p>The first screenshot shows the clipping plane in its default orientation. Here, only one part of the brush is kept and the other is deleted. The second screenshot shows the same clipping plane, but with the opposite orientation, so the part of the brush that would be deleted in the first screenshot is retained and vice versa. And finally the third screenshot shows the third mode of the clipping tool. Here, both parts of the brush are retained, so the brush is split in two along the clipping plane.</p>
		<p>Now how does the clipping tool work in practice? After it is activated, you can place up to three points in space. These points define the clipping plane. The following screenshots should give you an idea how this works:</p>

		<div class="images">
			<img src="../../shrd/clipping_1.png" width="150" height="150" alt="Clipping Tool with One Point">
			<img src="../../shrd/clipping_2.png" width="150" height="150" alt="Clipping Tool with Two Points">
			<img src="../../shrd/clipping_3.png" width="150" height="150" alt="Clipping Tool with Three Points">
			<img src="../../shrd/clipping_4.png" width="150" height="150" alt="Clipped Brush">
			<div class="imagecaption">The clipping tool needs at least two points.</div>
		</div>
		<p>The green dots represent the clipping points. The clipping tool needs at least two clipping points to create a clipping plane. You can place clipping points by clicking with the <b>left mouse button</b>, but you can only place clipping points on the faces of the currently selected brushes. However, you can drag clipping points off the faces (see below). You can delete the most recently placed clipping point by hitting the <b>backspace key (&#x232B;)</b>. Once you have placed two points, the clipping tool will try to guess a clipping plane for you. If you need more control over the clipping plane, you need to plane a third point. Now the clipping plane will be represented by a green triangle that has the three points as vertices (see third screenshot).</p>
		<p>The clipping tool always gives you an instant preview of how the clipped brushes will look like. Once you are satisfied with the clipping plane, you can hit <b>return (&#x21A9;)</b> to perform the clip. You can toggle between the three modes of the clipping tool using the <b>tab key (&#x21E5;)</b>. If you would like to cancel the clipping operation, simply deactivate the clipping tool by hitting <b>C</b>.</p>

		<img src="../../shrd/clipping_drag_point.png" width="260" height="203" alt="Dragging a Clip Point" class="inline">
		<p>In certain situations, you have to place clipping points which are not on the surface of any of the selected brushes. If you find that you to place a clipping point somewhere in the void, you can drag that clipping point off any of the faces of the selected brushes. Simply click on any face of a selected brush and <b>drag with the left mouse button</b>. You will see a red grid which will help you place the point. The grid is aligned with the face on which you started your drag and it represents the plane on which you can place the clipping point. You can also edit already placed clipping points by dragging them around with the <b>left mouse button</b>.</p>
		<br clear="all">

		<a name="vertex_editing"></a><h3>Vertex Editing</h3>
		<p></p>
		<br clear="all">

		<a name="edge_editing"></a><h3>Edge Editing</h3>
		<p></p>
		<br clear="all">

		<a name="face_editing"></a><h3>Face Editing</h3>
		<p></p>
		<br clear="all">
	</div>
</body>
</html>